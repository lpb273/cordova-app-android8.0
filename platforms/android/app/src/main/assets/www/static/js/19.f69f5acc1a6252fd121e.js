webpackJsonp([19],{"1+dM":function(t,n,e){n=t.exports=e("FZ+f")(!0),n.push([t.i,"\n.upload[data-v-8ae4ca3c] {\n  opacity: 0;\n}\n.upload-imgs[data-v-8ae4ca3c] {\n  overflow: hidden;\n  font-size: 0;\n}\n.upload-imgs li[data-v-8ae4ca3c] {\n  position: relative;\n  width: 110px;\n  height: 110px;\n  font-size: 14px;\n  display: inline-block;\n  padding: 10px;\n  text-align: center;\n  vertical-align: middle;\n}\n.upload-imgs .add[data-v-8ae4ca3c] {\n  display: block;\n  background-color: #f9f9f9;\n  color: #ffffff;\n  height: 94px;\n}\n.upload-imgs li .upload[data-v-8ae4ca3c] {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 118px;\n  height: 118px;\n}\n.upload-imgs .img[data-v-8ae4ca3c] {\n  position: relative;\n  width: 94px;\n  height: 94px;\n  line-height: 94px;\n}\n.upload-imgs .img img[data-v-8ae4ca3c] {\n  vertical-align: middle;\n  object-fit: cover;\n}\n.upload-imgs .img .close[data-v-8ae4ca3c] {\n  display: none;\n}\n.upload-imgs li .img .close[data-v-8ae4ca3c] {\n  display: block;\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  right: -10px;\n  top: -10px;\n  line-height: 20px;\n  font-size: 20px;\n  color: #999;\n  background: #f9f9f9;\n  border-radius: 50%;\n}\n.add-icon[data-v-8ae4ca3c] {\n  font-size: 50px;\n  color: #999;\n}\n","",{version:3,sources:["/Users/lpb/Desktop/kachuoweb_svn/kachuoAPPX/src/components/common/ImageUploader.vue"],names:[],mappings:";AACA;EACE,WAAW;CACZ;AACD;EACE,iBAAiB;EACjB,aAAa;CACd;AACD;EACE,mBAAmB;EACnB,aAAa;EACb,cAAc;EACd,gBAAgB;EAChB,sBAAsB;EACtB,cAAc;EACd,mBAAmB;EACnB,uBAAuB;CACxB;AACD;EACE,eAAe;EACf,0BAA0B;EAC1B,eAAe;EACf,aAAa;CACd;AACD;EACE,mBAAmB;EACnB,OAAO;EACP,UAAU;EACV,QAAQ;EACR,SAAS;EACT,aAAa;EACb,cAAc;CACf;AACD;EACE,mBAAmB;EACnB,YAAY;EACZ,aAAa;EACb,kBAAkB;CACnB;AACD;EACE,uBAAuB;EACvB,kBAAkB;CACnB;AACD;EACE,cAAc;CACf;AACD;EACE,eAAe;EACf,mBAAmB;EACnB,YAAY;EACZ,aAAa;EACb,aAAa;EACb,WAAW;EACX,kBAAkB;EAClB,gBAAgB;EAChB,YAAY;EACZ,oBAAoB;EACpB,mBAAmB;CACpB;AACD;EACE,gBAAgB;EAChB,YAAY;CACb",file:"ImageUploader.vue",sourcesContent:["\n.upload[data-v-8ae4ca3c] {\n  opacity: 0;\n}\n.upload-imgs[data-v-8ae4ca3c] {\n  overflow: hidden;\n  font-size: 0;\n}\n.upload-imgs li[data-v-8ae4ca3c] {\n  position: relative;\n  width: 110px;\n  height: 110px;\n  font-size: 14px;\n  display: inline-block;\n  padding: 10px;\n  text-align: center;\n  vertical-align: middle;\n}\n.upload-imgs .add[data-v-8ae4ca3c] {\n  display: block;\n  background-color: #f9f9f9;\n  color: #ffffff;\n  height: 94px;\n}\n.upload-imgs li .upload[data-v-8ae4ca3c] {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 118px;\n  height: 118px;\n}\n.upload-imgs .img[data-v-8ae4ca3c] {\n  position: relative;\n  width: 94px;\n  height: 94px;\n  line-height: 94px;\n}\n.upload-imgs .img img[data-v-8ae4ca3c] {\n  vertical-align: middle;\n  object-fit: cover;\n}\n.upload-imgs .img .close[data-v-8ae4ca3c] {\n  display: none;\n}\n.upload-imgs li .img .close[data-v-8ae4ca3c] {\n  display: block;\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  right: -10px;\n  top: -10px;\n  line-height: 20px;\n  font-size: 20px;\n  color: #999;\n  background: #f9f9f9;\n  border-radius: 50%;\n}\n.add-icon[data-v-8ae4ca3c] {\n  font-size: 50px;\n  color: #999;\n}\n"],sourceRoot:""}])},"2jcB":function(t,n,e){"use strict";function a(t){e("qhjX")}function i(t){e("gBSJ")}var o=e("ALGc"),s=e("rHil"),r=e("pDNl"),l=e("2sLL"),c=e("mtWM"),A=e.n(c),p=e("zz/f"),d={data:function(){return{formData:new FormData,imgs:{},imgLen:0,getImg:[],videoUploadUrl:"https://core.kachuo.com/app/ewei_shopv2_app.php?i=5&c=site&a=entry&m=ewei_shopv2&do=mobile&r=util.uploader.uploadm"}},methods:{addImg:function(t){var n=this.$refs.inputer;this.fil=n.files;var e=this.imgLen;if(this.fil.length+e>3)return this.showToast("最多可上传3张，您还可以上传"+(3-e)+"张"),!1;for(var a=0;a<this.fil.length;a++){if(Math.floor(this.fil[a].size/1024)>10485760)return this.showToast("请选择10M以内的图片！"),!1;this.imgLen++,this.$set(this.imgs,this.fil[a].name+"?"+(new Date).getTime()+a,this.fil[a])}this.submit()},getObjectURL:function(t){var n=null;return void 0!=window.createObjectURL?n=window.createObjectURL(t):void 0!=window.URL?n=window.URL.createObjectURL(t):void 0!=window.webkitURL&&(n=window.webkitURL.createObjectURL(t)),n},delImg:function(t){this.$delete(this.imgs,t),this.imgLen--,this.getImg=this.getImg.slice(t,1),this.$emit("getImgUploadUrl",this.getImg)},showLoading:function(){var t=this;this.$vux.loading.show({text:"上传中"}),setTimeout(function(){t.$vux.loading.hide()},2e3)},showToast:function(t){var n=this;this.$vux.toast.text(t,"mid"),setTimeout(function(){n.$vux.toast.hide()},2e3)},submit:function(){var t=this;for(var n in this.imgs){n.split("?")[0];this.formData.append("file",this.imgs[n])}var e={timeout:2500,headers:{"Content-Type":"multipart/form-data",Authorization:localStorage.getItem("token")}};A.a.post(this.videoUploadUrl,this.formData,e).then(function(n){1===n.data.result?(t.$vux.toast.show({type:"success",text:"上传成功",time:1e3}),t.getImg.push(n.data.data.files[0].url)):t.$vux.toast.show({type:"warn",text:"失败请重试",time:1e3})}).catch(function(t){console.log(t)}),this.$emit("getImgUploadUrl",this.getImg)}},mounted:function(){}},u=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"control-form"},[e("ul",{staticClass:"upload-imgs"},[t._l(t.imgs,function(n,a){return e("li",{key:a},[e("p",{staticClass:"img"},[e("img",{attrs:{src:t.getObjectURL(n)}}),t._v(" "),e("a",{staticClass:"close",on:{click:function(n){return t.delImg(a)}}},[t._v("×")])])])}),t._v(" "),t.imgLen>=3?t._e():e("li",[e("input",{ref:"inputer",staticClass:"upload",attrs:{type:"file",multiple:"",accept:"image/png, image/jpeg, image/gif, image/jpg"},on:{change:t.addImg}}),t._v(" "),t._m(0)])],2)])},h=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("a",{staticClass:"add"},[e("p",{staticClass:"add-icon"},[t._v("+")])])}],g={render:u,staticRenderFns:h},m=g,f=e("VU/8"),C=a,x=f(d,m,!1,C,"data-v-8ae4ca3c",null),v=x.exports,B=e("cY6z"),b=(o.a,s.a,r.a,l.a,B.a,{props:["showAddress"],data:function(){return{inputValue:"",textareaValue:"",imgList:[],arressVal:""}},components:{XTextarea:o.a,Group:s.a,XInput:r.a,XButton:l.a,ImageUploader:v,Address:B.a},methods:{getImgAddress:function(t){this.arressVal=t},getImgUrl:function(t){this.imgList=t},showToast:function(t){var n=this;this.$vux.toast.text(t,"mid"),setTimeout(function(){n.$vux.toast.hide()},2e3)},formData:function(){var t=this;return this.inputValue?this.textareaValue?this.imgList.length?void(this.arressVal?this.submitForm():this.$vux.confirm.show({title:"提示",content:"发布地点未选，确定要发布吗？",onCancel:function(){},onConfirm:function(){t.submitForm()}})):void this.showToast("请上传图片"):void this.showToast("请输入内容"):void this.showToast("请输入标题")},onEvent:function(t){},getInputVal:function(){},getTextareaValue:function(){},submitForm:function(){var t=this;Object(p.w)({type:this.$route.query.branch,title:this.inputValue,summary:this.textareaValue,image:this.imgList.join(","),address:this.arressVal}).then(function(n){console.log(n),1===n.result?t.$vux.toast.show({type:"success",text:"发布成功",time:1e3,onHide:function(){t.$router.goBack()}}):t.$vux.toast.show({type:"warn",text:"失败，请重试",time:1e3})}).catch(function(t){console.log(t)})}},beforeDestroy:function(){this.inputValue="",this.textareaValue="",this.imgList=[],this.arressVal=""}}),E=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"input-textarea-wrap"},[e("p",{staticClass:"input-textarea-title"},[t._v("标题")]),t._v(" "),e("x-input",{staticClass:"input-textarea-input",attrs:{placeholder:"请输入标题","show-clear":!1},on:{"on-change":t.getInputVal},model:{value:t.inputValue,callback:function(n){t.inputValue=n},expression:"inputValue"}}),t._v(" "),e("p",{staticClass:"input-textarea-title"},[t._v("内容")]),t._v(" "),e("Group",[e("x-textarea",{staticClass:"input-textarea-textarea",attrs:{rows:6,max:999,name:"description",placeholder:"请输入内容"},on:{"on-change":t.getTextareaValue},model:{value:t.textareaValue,callback:function(n){t.textareaValue=n},expression:"textareaValue"}})],1),t._v(" "),t._m(0),t._v(" "),e("ImageUploader",{ref:"imgUpload",on:{getImgUploadUrl:t.getImgUrl}}),t._v(" "),e("Address",{directives:[{name:"show",rawName:"v-show",value:t.showAddress,expression:"showAddress"}],on:{selectAddress:t.getImgAddress}}),t._v(" "),e("x-button",{staticClass:"submit-btn",attrs:{type:"primary"},nativeOn:{click:function(n){return t.formData(n)}}},[t._v("发布")])],1)},w=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("p",{staticClass:"image-upload-title"},[e("span",{},[t._v("上传图片(最多上传三张)")]),t._v(" "),e("span",{staticClass:"image-upload-weak-tip"},[t._v("( 图片大小不能超过10M )")])])}],k={render:E,staticRenderFns:w},_=k,U=e("VU/8"),D=i,j=U(b,_,!1,D,"data-v-57052db0",null);n.a=j.exports},"3ZW3":function(t,n,e){n=t.exports=e("FZ+f")(!0),n.push([t.i,"\n.input-textarea-input[data-v-57052db0] {\n  width: 100%;\n  height: 40px;\n  background: #f9f9f9;\n  font-size: 14px;\n  border-radius: 4px;\n  font-weight: normal;\n}\n.input-textarea-textarea[data-v-57052db0] {\n  width: 100%;\n  height: 150px;\n  background: #f9f9f9;\n  font-size: 14px;\n  border-radius: 4px;\n}\n.input-textarea-title[data-v-57052db0] {\n  width: 100%;\n  height: 50px;\n  line-height: 50px;\n}\n.submit-btn[data-v-57052db0] {\n  margin-top: 80px;\n}\n.image-upload-title[data-v-57052db0] {\n  width: 100%;\n  height: 30px;\n  line-height: 30px;\n  margin-top: 10px;\n  padding-left: 10px;\n  box-sizing: border-box;\n}\n.image-upload-weak-tip[data-v-57052db0] {\n  font-size: 12px;\n  color: #999;\n}\n","",{version:3,sources:["/Users/lpb/Desktop/kachuoweb_svn/kachuoAPPX/src/components/common/TextArea.vue"],names:[],mappings:";AACA;EACE,YAAY;EACZ,aAAa;EACb,oBAAoB;EACpB,gBAAgB;EAChB,mBAAmB;EACnB,oBAAoB;CACrB;AACD;EACE,YAAY;EACZ,cAAc;EACd,oBAAoB;EACpB,gBAAgB;EAChB,mBAAmB;CACpB;AACD;EACE,YAAY;EACZ,aAAa;EACb,kBAAkB;CACnB;AACD;EACE,iBAAiB;CAClB;AACD;EACE,YAAY;EACZ,aAAa;EACb,kBAAkB;EAClB,iBAAiB;EACjB,mBAAmB;EACnB,uBAAuB;CACxB;AACD;EACE,gBAAgB;EAChB,YAAY;CACb",file:"TextArea.vue",sourcesContent:["\n.input-textarea-input[data-v-57052db0] {\n  width: 100%;\n  height: 40px;\n  background: #f9f9f9;\n  font-size: 14px;\n  border-radius: 4px;\n  font-weight: normal;\n}\n.input-textarea-textarea[data-v-57052db0] {\n  width: 100%;\n  height: 150px;\n  background: #f9f9f9;\n  font-size: 14px;\n  border-radius: 4px;\n}\n.input-textarea-title[data-v-57052db0] {\n  width: 100%;\n  height: 50px;\n  line-height: 50px;\n}\n.submit-btn[data-v-57052db0] {\n  margin-top: 80px;\n}\n.image-upload-title[data-v-57052db0] {\n  width: 100%;\n  height: 30px;\n  line-height: 30px;\n  margin-top: 10px;\n  padding-left: 10px;\n  box-sizing: border-box;\n}\n.image-upload-weak-tip[data-v-57052db0] {\n  font-size: 12px;\n  color: #999;\n}\n"],sourceRoot:""}])},JCN9:function(t,n,e){"use strict";function a(t){e("QcBg")}Object.defineProperty(n,"__esModule",{value:!0});var i=e("GgDs"),o=e("2jcB"),s=(i.a,o.a,{name:"",props:[""],data:function(){return{TitleObjData:{titleContent:"发布",showLeftBack:!0,showRightMore:!1}}},components:{Header:i.a,TextArea:o.a},computed:{},beforeMount:function(){},mounted:function(){},methods:{},watch:{}}),r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("Header",{attrs:{titleContent:t.TitleObjData.titleContent,showLeftBack:t.TitleObjData.showLeftBack,showRightMore:t.TitleObjData.showRightMore}}),t._v(" "),e("TextArea",{staticClass:"input-text-wrap"})],1)},l=[],c={render:r,staticRenderFns:l},A=c,p=e("VU/8"),d=a,u=p(s,A,!1,d,"data-v-826438fc",null);n.default=u.exports},QcBg:function(t,n,e){var a=e("hX63");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("rjj0")("25814ce8",a,!0,{})},gBSJ:function(t,n,e){var a=e("3ZW3");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("rjj0")("0660994c",a,!0,{})},hX63:function(t,n,e){n=t.exports=e("FZ+f")(!0),n.push([t.i,"\n.input-text-wrap[data-v-826438fc]{\n  margin-top: 45px;\n  padding:10px;\n  box-sizing: border-box;\n}\n","",{version:3,sources:["/Users/lpb/Desktop/kachuoweb_svn/kachuoAPPX/src/components/layout/ReleaseContent.vue"],names:[],mappings:";AACA;EACE,iBAAiB;EACjB,aAAa;EACb,uBAAuB;CACxB",file:"ReleaseContent.vue",sourcesContent:["\n.input-text-wrap[data-v-826438fc]{\n  margin-top: 45px;\n  padding:10px;\n  box-sizing: border-box;\n}\n"],sourceRoot:""}])},qhjX:function(t,n,e){var a=e("1+dM");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("rjj0")("2fa3a76d",a,!0,{})}});
//# sourceMappingURL=19.f69f5acc1a6252fd121e.js.map