{"version":3,"sources":["webpack:///static/js/43.7a9628e014213a5eafe4.js","webpack:///./src/components/index/Login.vue?8f93","webpack:///./src/components/index/Login.vue?0fd3","webpack:///./src/components/index/Login.vue","webpack:///./src/components/index/Login.vue?60d9","webpack:///./src/components/index/Login.vue?8c9f"],"names":["webpackJsonp","YzM1","module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","pWAD","__webpack_exports__","injectStyle","ssrContext","Object","defineProperty","value","x_input","group","x_button","cell","api","index_Login","XInput","XButton","Group","Cell","name","props","data","timer","veritfyCodeTxt","veritfyCode","phoneValue","veriValue","components","computed","beforeMount","mounted","methods","getLocationData","dataObj","sessionStorage","getItem","postDataObj","latitude","Latitude","longitude","Longitude","CheckByLocation","then","res","console","log","result","setItem","scenic_id","catch","err","getUserLoginInfo","_this","this","getUserInfo","$store","commit","GLOBAL","setSession","requestLogin","_this2","login","tel","replace","code","type","localStorage","accessToken","$vux","toast","show","text","time","onHide","$router","showToastInfo","requestVeriCode","getVeriCode","sendVeriCode","verifyPhoneCode","phoneNum","regExp","phone","test","emitVeritfyCode","conttentTip","callback","_this3","setTimeout","hide","_this4","num","setInterval","clearInterval","watch","beforeDestroy","render","_vm","_h","$createElement","_c","_self","staticClass","_v","staticStyle","width","display","attrs","title","mask","max","is-type","show-clear","novalidate","model","$$v","expression","slot","mini","disabled","nativeOn","click","$event","_s","staticRenderFns","esExports","components_index_Login","normalizeComponent","__vue_styles__","Component","s0vA","content","locals"],"mappings":"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","file":"static/js/43.7a9628e014213a5eafe4.js","sourcesContent":["webpackJsonp([43],{\n\n/***/ \"YzM1\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.login-wrap[data-v-3888439e] {\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  background: #fff;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n  -webkit-flex-direction: column;\\n          flex-direction: column;\\n  -webkit-box-pack: start;\\n  -webkit-justify-content: flex-start;\\n          justify-content: flex-start;\\n  -webkit-box-align: start;\\n  -webkit-align-items: flex-start;\\n          align-items: flex-start;\\n  padding: 0 15px;\\n  box-sizing: border-box;\\n}\\n.login-wrap-title[data-v-3888439e] {\\n  font-size: 24px;\\n  margin-top: 120px;\\n}\\n.weui-vcode[data-v-3888439e],\\n.input-qr-code[data-v-3888439e] {\\n  width: 100%;\\n  border-bottom: 1px solid #eee;\\n}\\n.weui-vcode[data-v-3888439e] {\\n  margin-top: 80px;\\n}\\n.sub-btn-wrap[data-v-3888439e] {\\n  margin-top: 100px;\\n}\\n.veri-btn[data-v-3888439e] {\\n  width: 100px;\\n  display: inline-block;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/lpb/Desktop/kachuoweb_svn/kachuoAPPX/src/components/index/Login.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,YAAY;EACZ,aAAa;EACb,iBAAiB;EACjB,iBAAiB;EACjB,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,6BAA6B;EAC7B,8BAA8B;EAC9B,+BAA+B;UACvB,uBAAuB;EAC/B,wBAAwB;EACxB,oCAAoC;UAC5B,4BAA4B;EACpC,yBAAyB;EACzB,gCAAgC;UACxB,wBAAwB;EAChC,gBAAgB;EAChB,uBAAuB;CACxB;AACD;EACE,gBAAgB;EAChB,kBAAkB;CACnB;AACD;;EAEE,YAAY;EACZ,8BAA8B;CAC/B;AACD;EACE,iBAAiB;CAClB;AACD;EACE,kBAAkB;CACnB;AACD;EACE,aAAa;EACb,sBAAsB;CACvB\",\"file\":\"Login.vue\",\"sourcesContent\":[\"\\n.login-wrap[data-v-3888439e] {\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  background: #fff;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n  -webkit-flex-direction: column;\\n          flex-direction: column;\\n  -webkit-box-pack: start;\\n  -webkit-justify-content: flex-start;\\n          justify-content: flex-start;\\n  -webkit-box-align: start;\\n  -webkit-align-items: flex-start;\\n          align-items: flex-start;\\n  padding: 0 15px;\\n  box-sizing: border-box;\\n}\\n.login-wrap-title[data-v-3888439e] {\\n  font-size: 24px;\\n  margin-top: 120px;\\n}\\n.weui-vcode[data-v-3888439e],\\n.input-qr-code[data-v-3888439e] {\\n  width: 100%;\\n  border-bottom: 1px solid #eee;\\n}\\n.weui-vcode[data-v-3888439e] {\\n  margin-top: 80px;\\n}\\n.sub-btn-wrap[data-v-3888439e] {\\n  margin-top: 100px;\\n}\\n.veri-btn[data-v-3888439e] {\\n  width: 100px;\\n  display: inline-block;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"pWAD\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/vux/src/components/x-input/index.vue + 4 modules\nvar x_input = __webpack_require__(\"pDNl\");\n\n// EXTERNAL MODULE: ./node_modules/vux/src/components/group/index.vue + 3 modules\nvar group = __webpack_require__(\"rHil\");\n\n// EXTERNAL MODULE: ./node_modules/vux/src/components/x-button/index.vue + 3 modules\nvar x_button = __webpack_require__(\"2sLL\");\n\n// EXTERNAL MODULE: ./node_modules/vux/src/components/cell/index.vue + 5 modules\nvar cell = __webpack_require__(\"1DHf\");\n\n// EXTERNAL MODULE: ./src/servers/api.js + 1 modules\nvar api = __webpack_require__(\"zz/f\");\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vux-loader/src/script-loader.js!./node_modules/vux-loader/src/script-loader.js!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/index/Login.vue\n\n\n\n\n\n\n\n\n/* harmony default export */ var Login = ({\n  name: \"\",\n  props: [\"\"],\n  data: function data() {\n    return {\n      timer: null,\n      veritfyCodeTxt: \"发送验证码\",\n      veritfyCode: false,\n      phoneValue: \"\",\n      veriValue: \"\"\n    };\n  },\n\n\n  components: {\n    XInput: x_input[\"a\" /* default */],\n    XButton: x_button[\"a\" /* default */],\n    Group: group[\"a\" /* default */],\n    Cell: cell[\"a\" /* default */]\n  },\n\n  computed: {},\n\n  beforeMount: function beforeMount() {},\n  mounted: function mounted() {},\n\n\n  methods: {\n    getLocationData: function getLocationData() {\n      var dataObj = sessionStorage.getItem(\"positionInfo\") ? sessionStorage.getItem(\"positionInfo\") : \"\";\n      var postDataObj = {\n        latitude: dataObj ? dataObj.Latitude : \"\",\n        longitude: dataObj ? dataObj.Longitude : \"\"\n      };\n      Object(api[\"c\" /* CheckByLocation */])(postDataObj).then(function (res) {\n        console.log(res);\n        if (res.result === 1) {\n          sessionStorage.setItem(\"currentScenic\", res.data.scenic_id);\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    getUserLoginInfo: function getUserLoginInfo() {\n      var _this = this;\n\n      Object(api[\"H\" /* getUserInfo */])({}).then(function (res) {\n        if (res.result === 1) {\n          _this.$store.commit(\"setUserLoginInfo\", res.data);\n          _this.GLOBAL.setSession(\"userLoginInfo\", res.data);\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    requestLogin: function requestLogin() {\n      var _this2 = this;\n\n      if (this.phoneValue && this.veriValue) {\n\n        Object(api[\"M\" /* login */])({\n          tel: this.phoneValue.replace(/\\s*/g, \"\"),\n          code: this.veriValue,\n          type: 1\n        }).then(function (res) {\n          if (res.result === 1) {\n            localStorage.setItem(\"token\", res.data.accessToken);\n            _this2.$vux.toast.show({\n              type: \"success\",\n              text: \"登录成功\",\n              time: 1000,\n              onHide: function onHide() {\n                _this2.getUserLoginInfo();\n                _this2.getLocationData();\n              }\n            });\n            _this2.$router.push(\"/indextab\");\n          } else {\n            if (res.code === 90000) {\n              _this2.showToastInfo(\"验证码错误或过期\");\n            } else if (res.code === 10005) {\n              _this2.showToastInfo(\"手机号不能为空\");\n            } else if (res.code === \"1002\" || res.code === 1002) {\n              console.log(res.code);\n            } else if (res.code === 10006) {\n              _this2.showToastInfo(\"手机号不一致\");\n            } else {\n              _this2.$router.push(\"/indextab\");\n            }\n          }\n        }).catch(function (err) {\n          console.log(err);\n        });\n      } else {\n        if (!this.phoneValue) {\n          this.showToastInfo(\"手机号不能为空\");\n        } else {\n          this.showToastInfo(\"验证码不能为空\");\n        }\n      }\n    },\n    requestVeriCode: function requestVeriCode() {\n      console.log(\"requestVeriCode\");\n      Object(api[\"J\" /* getVeriCode */])({\n        tel: this.phoneValue.replace(/\\s*/g, \"\")\n      }).then(function (res) {\n        console.log(res);\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    sendVeriCode: function sendVeriCode() {\n      this.verifyPhoneCode(this.phoneValue);\n    },\n    verifyPhoneCode: function verifyPhoneCode(phoneNum) {\n      var regExp = /^[1][3,4,5,7,8][0-9]{9}$/;\n      var phone = phoneNum.replace(/\\s*/g, \"\");\n      if (regExp.test(phone)) {\n        this.showToastInfo(\"验证码已发送\", this.emitVeritfyCode);\n      } else {\n        this.showToastInfo(\"手机号有误\");\n      }\n    },\n    showToastInfo: function showToastInfo(conttentTip, callback) {\n      var _this3 = this;\n\n      this.$vux.toast.text(conttentTip, \"middle\");\n      setTimeout(function () {\n        _this3.$vux.toast.hide();\n        callback ? callback() : \"\";\n      }, 1000);\n    },\n    emitVeritfyCode: function emitVeritfyCode() {\n      var _this4 = this;\n\n      this.veritfyCode = true;\n      var num = 60;\n      this.veritfyCodeTxt = num + \"s\";\n      this.requestVeriCode();\n      this.timer = setInterval(function () {\n        if (num > 0) {\n          --num;\n          _this4.veritfyCodeTxt = num + \"s\";\n        } else {\n          clearInterval(_this4.timer);\n          _this4.veritfyCodeTxt = \"重新发送\";\n          _this4.veritfyCode = false;\n        }\n      }, 1000);\n    }\n  },\n\n  watch: {},\n  beforeDestroy: function beforeDestroy() {\n    clearInterval(this.timer);\n  }\n});\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vux-loader/src/script-loader.js!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/index/Login.vue\n\n\n\n\n\n\n\n\n/* harmony default export */ var index_Login = ({\n  name: \"\",\n  props: [\"\"],\n  data: function data() {\n    return {\n      timer: null,\n      veritfyCodeTxt: \"发送验证码\",\n      veritfyCode: false,\n      phoneValue: \"\",\n      veriValue: \"\"\n    };\n  },\n\n\n  components: {\n    XInput: x_input[\"a\" /* default */],\n    XButton: x_button[\"a\" /* default */],\n    Group: group[\"a\" /* default */],\n    Cell: cell[\"a\" /* default */]\n  },\n\n  computed: {},\n\n  beforeMount: function beforeMount() {},\n  mounted: function mounted() {},\n\n\n  methods: {\n    getLocationData: function getLocationData() {\n      var dataObj = sessionStorage.getItem(\"positionInfo\") ? sessionStorage.getItem(\"positionInfo\") : \"\";\n      var postDataObj = {\n        latitude: dataObj ? dataObj.Latitude : \"\",\n        longitude: dataObj ? dataObj.Longitude : \"\"\n      };\n      Object(api[\"c\" /* CheckByLocation */])(postDataObj).then(function (res) {\n        console.log(res);\n        if (res.result === 1) {\n          sessionStorage.setItem(\"currentScenic\", res.data.scenic_id);\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    getUserLoginInfo: function getUserLoginInfo() {\n      var _this = this;\n\n      Object(api[\"H\" /* getUserInfo */])({}).then(function (res) {\n        if (res.result === 1) {\n          _this.$store.commit(\"setUserLoginInfo\", res.data);\n          _this.GLOBAL.setSession(\"userLoginInfo\", res.data);\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    requestLogin: function requestLogin() {\n      var _this2 = this;\n\n      if (this.phoneValue && this.veriValue) {\n\n        Object(api[\"M\" /* login */])({\n          tel: this.phoneValue.replace(/\\s*/g, \"\"),\n          code: this.veriValue,\n          type: 1\n        }).then(function (res) {\n          if (res.result === 1) {\n            localStorage.setItem(\"token\", res.data.accessToken);\n            _this2.$vux.toast.show({\n              type: \"success\",\n              text: \"登录成功\",\n              time: 1000,\n              onHide: function onHide() {\n                _this2.getUserLoginInfo();\n                _this2.getLocationData();\n              }\n            });\n            _this2.$router.push(\"/indextab\");\n          } else {\n            if (res.code === 90000) {\n              _this2.showToastInfo(\"验证码错误或过期\");\n            } else if (res.code === 10005) {\n              _this2.showToastInfo(\"手机号不能为空\");\n            } else if (res.code === \"1002\" || res.code === 1002) {\n              console.log(res.code);\n            } else if (res.code === 10006) {\n              _this2.showToastInfo(\"手机号不一致\");\n            } else {\n              _this2.$router.push(\"/indextab\");\n            }\n          }\n        }).catch(function (err) {\n          console.log(err);\n        });\n      } else {\n        if (!this.phoneValue) {\n          this.showToastInfo(\"手机号不能为空\");\n        } else {\n          this.showToastInfo(\"验证码不能为空\");\n        }\n      }\n    },\n    requestVeriCode: function requestVeriCode() {\n      console.log(\"requestVeriCode\");\n      Object(api[\"J\" /* getVeriCode */])({\n        tel: this.phoneValue.replace(/\\s*/g, \"\")\n      }).then(function (res) {\n        console.log(res);\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    sendVeriCode: function sendVeriCode() {\n      this.verifyPhoneCode(this.phoneValue);\n    },\n    verifyPhoneCode: function verifyPhoneCode(phoneNum) {\n      var regExp = /^[1][3,4,5,7,8][0-9]{9}$/;\n      var phone = phoneNum.replace(/\\s*/g, \"\");\n      if (regExp.test(phone)) {\n        this.showToastInfo(\"验证码已发送\", this.emitVeritfyCode);\n      } else {\n        this.showToastInfo(\"手机号有误\");\n      }\n    },\n    showToastInfo: function showToastInfo(conttentTip, callback) {\n      var _this3 = this;\n\n      this.$vux.toast.text(conttentTip, \"middle\");\n      setTimeout(function () {\n        _this3.$vux.toast.hide();\n        callback ? callback() : \"\";\n      }, 1000);\n    },\n    emitVeritfyCode: function emitVeritfyCode() {\n      var _this4 = this;\n\n      this.veritfyCode = true;\n      var num = 60;\n      this.veritfyCodeTxt = num + \"s\";\n      this.requestVeriCode();\n      this.timer = setInterval(function () {\n        if (num > 0) {\n          --num;\n          _this4.veritfyCodeTxt = num + \"s\";\n        } else {\n          clearInterval(_this4.timer);\n          _this4.veritfyCodeTxt = \"重新发送\";\n          _this4.veritfyCode = false;\n        }\n      }, 1000);\n    }\n  },\n\n  watch: {},\n  beforeDestroy: function beforeDestroy() {\n    clearInterval(this.timer);\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3888439e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/index/Login.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-wrap\"},[_c('p',{staticClass:\"login-wrap-title\"},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('group',{staticStyle:{\"width\":\"100%\"}},[_c('x-input',{staticStyle:{\"display\":\"none\"},attrs:{\"title\":\"验证码\"}}),_vm._v(\" \"),_c('x-input',{staticClass:\"weui-vcode\",attrs:{\"title\":\"手机号\",\"mask\":\"999 9999 9999\",\"max\":13,\"is-type\":\"china-mobile\",\"show-clear\":false,\"novalidate\":\"\"},model:{value:(_vm.phoneValue),callback:function ($$v) {_vm.phoneValue=$$v},expression:\"phoneValue\"}},[_c('x-button',{staticClass:\"veri-btn\",attrs:{\"slot\":\"right\",\"type\":\"primary\",\"mini\":\"\",\"disabled\":_vm.veritfyCode},nativeOn:{\"click\":function($event){return _vm.sendVeriCode($event)}},slot:\"right\"},[_vm._v(_vm._s(_vm.veritfyCodeTxt))])],1),_vm._v(\" \"),_c('x-input',{staticClass:\"input-qr-code\",attrs:{\"title\":\"验证码\",\"novalidate\":\"\",\"show-clear\":false},model:{value:(_vm.veriValue),callback:function ($$v) {_vm.veriValue=$$v},expression:\"veriValue\"}})],1),_vm._v(\" \"),_c('x-button',{staticClass:\"sub-btn-wrap\",attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.requestLogin($event)}}},[_vm._v(\"登录\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var components_index_Login = (esExports);\n// CONCATENATED MODULE: ./src/components/index/Login.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"s0vA\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3888439e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  index_Login,\n  components_index_Login,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_index_Login = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"s0vA\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"YzM1\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"5f490a1e\", content, true, {});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/43.7a9628e014213a5eafe4.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.login-wrap[data-v-3888439e] {\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  background: #fff;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n  -webkit-flex-direction: column;\\n          flex-direction: column;\\n  -webkit-box-pack: start;\\n  -webkit-justify-content: flex-start;\\n          justify-content: flex-start;\\n  -webkit-box-align: start;\\n  -webkit-align-items: flex-start;\\n          align-items: flex-start;\\n  padding: 0 15px;\\n  box-sizing: border-box;\\n}\\n.login-wrap-title[data-v-3888439e] {\\n  font-size: 24px;\\n  margin-top: 120px;\\n}\\n.weui-vcode[data-v-3888439e],\\n.input-qr-code[data-v-3888439e] {\\n  width: 100%;\\n  border-bottom: 1px solid #eee;\\n}\\n.weui-vcode[data-v-3888439e] {\\n  margin-top: 80px;\\n}\\n.sub-btn-wrap[data-v-3888439e] {\\n  margin-top: 100px;\\n}\\n.veri-btn[data-v-3888439e] {\\n  width: 100px;\\n  display: inline-block;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/lpb/Desktop/kachuoweb_svn/kachuoAPPX/src/components/index/Login.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,YAAY;EACZ,aAAa;EACb,iBAAiB;EACjB,iBAAiB;EACjB,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,6BAA6B;EAC7B,8BAA8B;EAC9B,+BAA+B;UACvB,uBAAuB;EAC/B,wBAAwB;EACxB,oCAAoC;UAC5B,4BAA4B;EACpC,yBAAyB;EACzB,gCAAgC;UACxB,wBAAwB;EAChC,gBAAgB;EAChB,uBAAuB;CACxB;AACD;EACE,gBAAgB;EAChB,kBAAkB;CACnB;AACD;;EAEE,YAAY;EACZ,8BAA8B;CAC/B;AACD;EACE,iBAAiB;CAClB;AACD;EACE,kBAAkB;CACnB;AACD;EACE,aAAa;EACb,sBAAsB;CACvB\",\"file\":\"Login.vue\",\"sourcesContent\":[\"\\n.login-wrap[data-v-3888439e] {\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  background: #fff;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n  -webkit-flex-direction: column;\\n          flex-direction: column;\\n  -webkit-box-pack: start;\\n  -webkit-justify-content: flex-start;\\n          justify-content: flex-start;\\n  -webkit-box-align: start;\\n  -webkit-align-items: flex-start;\\n          align-items: flex-start;\\n  padding: 0 15px;\\n  box-sizing: border-box;\\n}\\n.login-wrap-title[data-v-3888439e] {\\n  font-size: 24px;\\n  margin-top: 120px;\\n}\\n.weui-vcode[data-v-3888439e],\\n.input-qr-code[data-v-3888439e] {\\n  width: 100%;\\n  border-bottom: 1px solid #eee;\\n}\\n.weui-vcode[data-v-3888439e] {\\n  margin-top: 80px;\\n}\\n.sub-btn-wrap[data-v-3888439e] {\\n  margin-top: 100px;\\n}\\n.veri-btn[data-v-3888439e] {\\n  width: 100px;\\n  display: inline-block;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-3888439e\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/index/Login.vue\n// module id = YzM1\n// module chunks = 43","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3888439e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3888439e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3888439e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/index/Login.vue\n// module id = null\n// module chunks = ","\nimport XInput from 'vux/src/components/x-input/index.vue'\nimport Group from 'vux/src/components/group/index.vue'\nimport XButton from 'vux/src/components/x-button/index.vue'\nimport Cell from 'vux/src/components/cell/index.vue'\n\nimport { getVeriCode, login, getUserInfo } from \"@/servers/api\";\nimport { CheckByLocation } from \"@/servers/api\";\nexport default {\nname: \"\",\nprops: [\"\"],\ndata() {\nreturn {\ntimer: null,\nveritfyCodeTxt: \"发送验证码\",\nveritfyCode: false,\nphoneValue: \"\",\nveriValue: \"\"\n};\n},\n\ncomponents: {\nXInput,\nXButton,\nGroup,\nCell\n},\n\ncomputed: {},\n\nbeforeMount() {},\n\nmounted() {},\n\nmethods: {\n\ngetLocationData() {\nlet dataObj = sessionStorage.getItem(\"positionInfo\")\n? sessionStorage.getItem(\"positionInfo\")\n: \"\";\nlet postDataObj = {\nlatitude: dataObj ? dataObj.Latitude : \"\",\nlongitude: dataObj ? dataObj.Longitude : \"\"\n};\nCheckByLocation(postDataObj)\n.then(res => {\nconsole.log(res);\nif (res.result === 1) {\nsessionStorage.setItem(\"currentScenic\", res.data.scenic_id);\n}\n})\n.catch(err => {\nconsole.log(err);\n});\n},\n\ngetUserLoginInfo() {\ngetUserInfo({})\n.then(res => {\nif (res.result === 1) {\nthis.$store.commit(\"setUserLoginInfo\", res.data);\nthis.GLOBAL.setSession(\"userLoginInfo\", res.data);\n}\n})\n.catch(err => {\nconsole.log(err);\n});\n},\n\nrequestLogin() {\nif (this.phoneValue && this.veriValue) {\n\nlogin({\ntel: this.phoneValue.replace(/\\s*/g, \"\"),\ncode: this.veriValue,\ntype: 1\n})\n.then(res => {\nif (res.result === 1) {\nlocalStorage.setItem(\"token\", res.data.accessToken);\nthis.$vux.toast.show({\ntype: \"success\",\ntext: \"登录成功\",\ntime: 1000,\nonHide: () => {\nthis.getUserLoginInfo();\nthis.getLocationData();\n}\n});\nthis.$router.push(\"/indextab\");\n} else {\nif (res.code === 90000) {\nthis.showToastInfo(\"验证码错误或过期\");\n} else if (res.code === 10005) {\nthis.showToastInfo(\"手机号不能为空\");\n} else if (res.code === \"1002\" || res.code === 1002) {\nconsole.log(res.code);\n} else if (res.code === 10006) {\nthis.showToastInfo(\"手机号不一致\");\n} else {\nthis.$router.push(\"/indextab\");\n}\n}\n})\n.catch(err => {\nconsole.log(err);\n});\n} else {\nif (!this.phoneValue) {\nthis.showToastInfo(\"手机号不能为空\");\n} else {\nthis.showToastInfo(\"验证码不能为空\");\n}\n}\n},\n\nrequestVeriCode() {\nconsole.log(\"requestVeriCode\");\ngetVeriCode({\ntel: this.phoneValue.replace(/\\s*/g, \"\")\n})\n.then(res => {\nconsole.log(res);\n})\n.catch(err => {\nconsole.log(err);\n});\n},\n\nsendVeriCode() {\nthis.verifyPhoneCode(this.phoneValue);\n},\n\nverifyPhoneCode(phoneNum) {\nlet regExp = /^[1][3,4,5,7,8][0-9]{9}$/;\nlet phone = phoneNum.replace(/\\s*/g, \"\");\nif (regExp.test(phone)) {\nthis.showToastInfo(\"验证码已发送\", this.emitVeritfyCode);\n} else {\nthis.showToastInfo(\"手机号有误\");\n}\n},\n\nshowToastInfo(conttentTip, callback) {\nthis.$vux.toast.text(conttentTip, \"middle\");\nsetTimeout(() => {\nthis.$vux.toast.hide();\ncallback ? callback() : \"\";\n}, 1000);\n},\n\nemitVeritfyCode() {\nthis.veritfyCode = true;\nlet num = 60;\nthis.veritfyCodeTxt = num + \"s\";\nthis.requestVeriCode();\nthis.timer = setInterval(() => {\nif (num > 0) {\n--num;\nthis.veritfyCodeTxt = num + \"s\";\n} else {\nclearInterval(this.timer);\nthis.veritfyCodeTxt = \"重新发送\";\nthis.veritfyCode = false;\n}\n}, 1000);\n}\n},\n\nwatch: {},\nbeforeDestroy() {\nclearInterval(this.timer);\n}\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/index/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-wrap\"},[_c('p',{staticClass:\"login-wrap-title\"},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('group',{staticStyle:{\"width\":\"100%\"}},[_c('x-input',{staticStyle:{\"display\":\"none\"},attrs:{\"title\":\"验证码\"}}),_vm._v(\" \"),_c('x-input',{staticClass:\"weui-vcode\",attrs:{\"title\":\"手机号\",\"mask\":\"999 9999 9999\",\"max\":13,\"is-type\":\"china-mobile\",\"show-clear\":false,\"novalidate\":\"\"},model:{value:(_vm.phoneValue),callback:function ($$v) {_vm.phoneValue=$$v},expression:\"phoneValue\"}},[_c('x-button',{staticClass:\"veri-btn\",attrs:{\"slot\":\"right\",\"type\":\"primary\",\"mini\":\"\",\"disabled\":_vm.veritfyCode},nativeOn:{\"click\":function($event){return _vm.sendVeriCode($event)}},slot:\"right\"},[_vm._v(_vm._s(_vm.veritfyCodeTxt))])],1),_vm._v(\" \"),_c('x-input',{staticClass:\"input-qr-code\",attrs:{\"title\":\"验证码\",\"novalidate\":\"\",\"show-clear\":false},model:{value:(_vm.veriValue),callback:function ($$v) {_vm.veriValue=$$v},expression:\"veriValue\"}})],1),_vm._v(\" \"),_c('x-button',{staticClass:\"sub-btn-wrap\",attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.requestLogin($event)}}},[_vm._v(\"登录\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3888439e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/index/Login.vue\n// module id = null\n// module chunks = ","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3888439e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Login.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"5f490a1e\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-3888439e\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/index/Login.vue\n// module id = s0vA\n// module chunks = 43"],"sourceRoot":""}